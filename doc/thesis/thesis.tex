\documentclass{article}

\usepackage{pdfpages}
\usepackage[nottoc]{tocbibind}
\usepackage{color}
\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{float}
\usepackage{wrapfig}
\graphicspath{ {../plots/} }
\usepackage{tikz}
\usetikzlibrary{calc,positioning,arrows}
\usetikzlibrary{shapes.misc, positioning}
\usepackage{amsmath,amsthm}


\iffalse
\newcommand{\comment}[1]{\textit{\textcolor{blue}{/* #1 */} }}
\fi
\usepackage{marginnote}
\newcommand{\todo}[1]{\textit{\textcolor{red}{// TODO: #1} }}
\newcommand{\comment}[1]{\textcolor{red}{*}\marginnote{\textit{\textcolor{red}{#1} }}}
\newcommand{\draft}[1]{\textit{\textcolor{olive}{#1} }}
\newcommand{\code}[1]{\texttt{#1}}


\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem*{cor}{Corollary}

\theoremstyle{definition}
\newtheorem{defn}{Definition}[section]
\newtheorem{conj}{Conjecture}[section]
\newtheorem{exmp}{Example}[section]

\theoremstyle{remark}
\newtheorem*{rem}{Remark}
\newtheorem*{note}{Note}

\begin{document}
\iffalse
\fi
%% Helper function for squence diagrams
\newcommand{\seqnode}[3][]{ 
  \node[#1] (#2) {#3};
  \node[below of=#2, node distance=5cm] (#2_g) {};
  \draw (#2) -- (#2_g);
}
\newcommand{\hseqnode}[3][]{ 
  \node[#1] (#2) {#3};
  \node[below of=#2, node distance=5cm] (#2_g) {};
}
\newcommand{\msg}[5][above]{
  \draw[->] ($(#2)!#4!(#2_g)$) -- node[#1,scale=0.75,midway]{#5} ($(#3)!#4+0.04!(#3_g)$);
}
\newcommand{\fetch}[4]{
  \draw[-] ($(#1)!#3-0.04!(#1_g)$) -- node[above,scale=0.75,midway]{#4} ($(#2)!#3!(#2_g)$);
  \draw[->] ($(#2)!#3!(#2_g)$) -- node[above,scale=0.75,midway]{} ($(#1)!#3+0.04!(#1_g)$);
}
%% Helper functions for graphics

\newcommand{\queue}[2][]{ 
  \draw (#2) -- ++(2cm,0) -- ++(0,-1cm) -- ++(-2cm,0);
  \foreach \i in {1,...,4} \draw (#2)++(2cm-\i*3mm,0) -- +(0,-1cm);
  \node[align=center, , xshift = 1cm, yshift = .15cm] at (#2) {#1};
}

\newcommand{\rqueue}[2][]{ 
  \draw (#2) -- ++(2cm,0);
  \draw (#2) -- ++(0,-1cm) -- ++(2cm,0);
  \foreach \i in {1,...,4} \draw (#2)++(\i*3mm,0) -- +(0,-1cm);
  \node[align=center, , xshift = 1cm, yshift = .15cm] at (#2) {#1};
}


\tableofcontents
\pagebreak
\input{intro.tex}

\pagebreak
\input{background.tex}


\pagebreak
\section{Related Work}

\todo{Overview of related papers. Include different benchmark papers}

\todo{Maybe also include systems using rdma protocols. Compare to our findings. Should they have used other connection? 
Maybe add this after the protocols section?}

\pagebreak
\input{protocols.tex}

\pagebreak
\input{model.tex}


\pagebreak
\input{sendrcv.tex}

\pagebreak
\input{write.tex}

\pagebreak
\input{shared_write.tex}

\pagebreak
\section{Direct Write}
\todo{Write Write}
\subsection{Design}
\todo{Description of the connection and base performance model for latency and bandwidth}
\subsection{Send Comparison}
\todo{How does this differ from send receive. No completion queue event}
\subsection{Evaluation}
\todo{Maybe already compare to send receive performance}

\pagebreak
\input{buffered_read.tex}

\pagebreak
\input{direct_read.tex}


\pagebreak
\section{Conclusion}



\pagebreak

\bibliographystyle{unsrt}
\bibliography{references}{}

\end{document}
