\documentclass{article}

\usepackage{pdfpages}
\usepackage[nottoc]{tocbibind}
\usepackage{color}
\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage{subcaption}
\graphicspath{ {../plots/} }
\usepackage{tikz}
\usetikzlibrary{calc,positioning,arrows}
\usepackage{amsmath,amsthm}


\iffalse
\newcommand{\comment}[1]{\textit{\textcolor{blue}{/* #1 */} }}
\fi
\newcommand{\todo}[1]{\textit{\textcolor{red}{// TODO: #1} }}
\newcommand{\draft}[1]{\textit{\textcolor{olive}{#1} }}
\newcommand{\code}[1]{\texttt{#1}}


\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem*{cor}{Corollary}

\theoremstyle{definition}
\newtheorem{defn}{Definition}[section]
\newtheorem{conj}{Conjecture}[section]
\newtheorem{exmp}{Example}[section]

\theoremstyle{remark}
\newtheorem*{rem}{Remark}
\newtheorem*{note}{Note}


\begin{document}
\iffalse
\fi
\newcommand{\seqnode}[3][]{ 
  \node[#1] (#2) {#3};
  \node[below of=#2, node distance=5cm] (#2_g) {};
  \draw (#2) -- (#2_g);
}
\newcommand{\hseqnode}[3][]{ 
  \node[#1] (#2) {#3};
  \node[below of=#2, node distance=5cm] (#2_g) {};
}
\newcommand{\msg}[5][above]{
  \draw[->] ($(#2)!#4!(#2_g)$) -- node[#1,scale=0.75,midway]{#5} ($(#3)!#4+0.04!(#3_g)$);
}
\newcommand{\fetch}[4]{
  \draw[-] ($(#1)!#3-0.04!(#1_g)$) -- node[above,scale=0.75,midway]{#4} ($(#2)!#3!(#2_g)$);
  \draw[->] ($(#2)!#3!(#2_g)$) -- node[above,scale=0.75,midway]{} ($(#1)!#3+0.04!(#1_g)$);
}

\tableofcontents
\pagebreak
\section{Introduction}
\todo{What are we doing. Why are we doing this}

\pagebreak
\section{Background}
\todo{Fairly detailed section on rdma / ibverbs. Explain all verbs.}


\pagebreak
\section{Related Work}

\todo{Overview of related papers. Include different benchmark papers}

\todo{Maybe also include systems using rdma protocols. Compare to our findings. Should they have used other connection? 
Maybe add this after the protocols section?}

\pagebreak
\input{model.tex}

\pagebreak
\section{Protocols}
\todo{Look at all implemented protocols. Detailed description of the protocols. Add performance model for each of them and provide benchmarks.}

\pagebreak
\input{sendrcv.tex}

\pagebreak
\input{write.tex}

\pagebreak
\subsection{Shared Write}
\todo{Write Atomic}
\subsubsection{Design}
\todo{Description of the connection and base performance model for latency and bandwidth}
\subsubsection{Device Memory}
\todo{Introduce device memory, show microbench and update performance model}
\subsubsection{Evaluation}

\pagebreak
\subsection{Direct Write}
\todo{Write Write}
\subsubsection{Design}
\todo{Description of the connection and base performance model for latency and bandwidth}
\subsubsection{Send Comparison}
\todo{How does this differ from send receive. No completion queue event}
\subsubsection{Evaluation}
\todo{Maybe already compare to send receive performance}

\pagebreak
\input{buffered_read.tex}

\pagebreak
\input{direct_read.tex}


\pagebreak
\section{Comparison}
\todo{Comparison between connection types. Show which protocols perform better in which sitations.}

\subsection{Point to Point - N:N}

\subsection{Server Model - N:1}

\subsection{Fan Out / Broadcast - 1:N}

\pagebreak
\section{Conclusion}



\pagebreak

\bibliographystyle{unsrt}
\bibliography{references}{}

\end{document}
